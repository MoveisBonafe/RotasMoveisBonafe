<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Correção de Abas - Demonstração</title>
    <style>
        /* Estilos para demonstrar o comportamento correto das abas */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        /* Container principal que ocupa toda a página */
        .page-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* Área superior representando o mapa e outros conteúdos */
        .content-area {
            flex-grow: 1;
            background-color: #f0f0f0;
            padding: 20px;
            overflow: auto;
        }
        
        /* Estilos para as abas inferiores */
        .bottom-tabs-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            border-top: 2px solid #1976D2;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: all 0.3s ease;
            height: 60vh;
            max-height: 60vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* Estado minimizado para as abas */
        .bottom-tabs-container.minimized {
            height: 60px;
            overflow: hidden;
        }
        
        /* Barra de navegação das abas */
        .bottom-tabs-nav {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background: linear-gradient(to top, #1565C0, #1976D2);
            border-bottom: 2px solid #0d47a1;
            flex-shrink: 0;
        }
        
        /* Botões das abas */
        .bottom-tab-btn {
            padding: 8px 15px;
            border: 1px solid rgba(255,255,255,0.5);
            background-color: rgba(255,255,255,0.1);
            color: white;
            border-radius: 5px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .bottom-tab-btn:hover {
            background-color: rgba(255,255,255,0.2);
        }
        
        .bottom-tab-btn.active {
            background-color: white;
            color: #1976D2;
            font-weight: bold;
            border-color: white;
        }
        
        /* Container de conteúdo das abas */
        .bottom-tabs-content-container {
            flex-grow: 1;
            overflow: hidden;
            position: relative;
            height: calc(60vh - 60px);
        }
        
        /* Conteúdo de cada aba */
        .bottom-tab-content {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 15px;
            overflow-y: auto;
            background: white;
        }
        
        .bottom-tab-content.active {
            display: block;
        }
        
        /* Conteúdo de exemplo */
        .sample-content {
            margin-bottom: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Botões de gerenciamento */
        .control-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }
        
        .control-btn {
            padding: 8px 15px;
            background: #1976D2;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Área de conteúdo principal (representa o mapa e outros elementos) -->
        <div class="content-area">
            <h1>Demonstração do Sistema de Abas</h1>
            
            <div class="sample-content">
                <h2>Conteúdo Principal</h2>
                <p>Esta área representa o mapa e outros elementos da aplicação.</p>
                <p>As abas inferiores podem ser expandidas sem afetar esta área.</p>
            </div>
            
            <!-- Gerar mais conteúdo para demonstrar rolagem -->
            <div class="sample-content">
                <h3>Características do novo sistema de abas:</h3>
                <ul>
                    <li>Rolagem independente para cada aba</li>
                    <li>Expansão sem afetar o conteúdo superior</li>
                    <li>Navegação intuitiva entre diferentes informações</li>
                    <li>Comportamento estilo "página de notícias"</li>
                </ul>
            </div>
            
            <!-- Mais conteúdo de exemplo -->
            <div class="sample-content">
                <h3>Instruções</h3>
                <p>Clique nos botões das abas inferiores para alternar entre diferentes conteúdos.</p>
                <p>A área de rolagem de cada aba é independente do conteúdo principal.</p>
            </div>
        </div>
        
        <!-- Botões de controle -->
        <div class="control-buttons">
            <button class="control-btn" id="toggle-tabs">Expandir/Minimizar Abas</button>
        </div>
        
        <!-- Sistema de abas inferiores -->
        <div class="bottom-tabs-container minimized">
            <!-- Navegação das abas -->
            <div class="bottom-tabs-nav">
                <button class="bottom-tab-btn active" data-tab="events">Eventos</button>
                <button class="bottom-tab-btn" data-tab="restrictions">Restrições</button>
                <button class="bottom-tab-btn" data-tab="report">Relatório</button>
            </div>
            
            <!-- Container do conteúdo das abas -->
            <div class="bottom-tabs-content-container">
                <!-- Conteúdo da aba Eventos -->
                <div class="bottom-tab-content active" id="events-content">
                    <h2>Eventos na Rota</h2>
                    <p>Aqui são exibidos os eventos nas cidades do percurso.</p>
                    
                    <!-- Conteúdo longo para demonstrar rolagem -->
                    <div class="event-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Feriado Municipal - Dois Córregos</h4>
                        <p>Data: 12/05/2025</p>
                        <p>Impacto: Médio</p>
                    </div>
                    
                    <div class="event-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Festival de Música - Jaú</h4>
                        <p>Data: 15/05/2025 - 18/05/2025</p>
                        <p>Impacto: Alto - Ruas centrais fechadas</p>
                    </div>
                    
                    <!-- Mais itens para demonstrar rolagem -->
                    <div class="event-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Feira Agropecuária - Bauru</h4>
                        <p>Data: 20/05/2025 - 25/05/2025</p>
                        <p>Impacto: Médio - Tráfego intenso na região do evento</p>
                    </div>
                    
                    <div class="event-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Aniversário da Cidade - São Carlos</h4>
                        <p>Data: 04/11/2025</p>
                        <p>Impacto: Alto - Desfile no centro</p>
                    </div>
                </div>
                
                <!-- Conteúdo da aba Restrições -->
                <div class="bottom-tab-content" id="restrictions-content">
                    <h2>Restrições de Tráfego</h2>
                    <p>Aqui são exibidas as restrições para caminhões nas cidades do percurso.</p>
                    
                    <!-- Conteúdo longo para demonstrar rolagem -->
                    <div class="restriction-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Dois Córregos</h4>
                        <p>Restrição: Parcial - dias úteis das 07:00 às 09:00</p>
                        <p>Veículos: caminhões de grande porte</p>
                    </div>
                    
                    <div class="restriction-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Jaú</h4>
                        <p>Restrição: Parcial - dias úteis das 17:00 às 20:00</p>
                        <p>Veículos: todos os caminhões no centro</p>
                    </div>
                    
                    <!-- Mais itens para demonstrar rolagem -->
                    <div class="restriction-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>Bauru</h4>
                        <p>Restrição: Rodízio - todos os dias das 07:00 às 22:00</p>
                        <p>Veículos: todos os caminhões</p>
                    </div>
                    
                    <div class="restriction-item" style="border-bottom: 1px solid #eee; padding: 10px 0;">
                        <h4>São Paulo</h4>
                        <p>Restrição: Total - todos os dias das 04:00 às 22:00</p>
                        <p>Veículos: todos os caminhões na ZMRC</p>
                    </div>
                </div>
                
                <!-- Conteúdo da aba Relatório -->
                <div class="bottom-tab-content" id="report-content">
                    <h2>Relatório da Rota</h2>
                    <p>Aqui é exibido o relatório detalhado da rota otimizada.</p>
                    
                    <!-- Conteúdo longo para demonstrar rolagem -->
                    <div class="report-section" style="margin-bottom: 20px;">
                        <h3>Resumo da Rota</h3>
                        <p><strong>Distância total:</strong> 523 km</p>
                        <p><strong>Tempo estimado:</strong> 6h 30min</p>
                        <p><strong>Pedágios:</strong> 4 (custo total estimado: R$ 107,50)</p>
                    </div>
                    
                    <div class="report-section" style="margin-bottom: 20px;">
                        <h3>Sequência Otimizada</h3>
                        <ol>
                            <li>Dois Córregos (origem)</li>
                            <li>Jaú - 28 km</li>
                            <li>Bauru - 65 km</li>
                            <li>São Carlos - 120 km</li>
                            <li>Araraquara - 145 km</li>
                            <li>Ribeirão Preto - 233 km</li>
                        </ol>
                    </div>
                    
                    <div class="report-section" style="margin-bottom: 20px;">
                        <h3>Pontos de Interesse</h3>
                        <ul>
                            <li>Pedágio SP-225 (Brotas) - R$ 22,30</li>
                            <li>Pedágio SP-310 (Rio Claro) - R$ 25,40</li>
                            <li>Pedágio SP-310 (Cordeirópolis) - R$ 24,80</li>
                            <li>Pedágio SP-330 (Limeira) - R$ 35,00</li>
                            <li>Balança Rodoviária SP-310 (km 227)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Script para controlar o comportamento das abas
        document.addEventListener('DOMContentLoaded', function() {
            // Elementos
            const tabButtons = document.querySelectorAll('.bottom-tab-btn');
            const tabContents = document.querySelectorAll('.bottom-tab-content');
            const tabsContainer = document.querySelector('.bottom-tabs-container');
            const toggleButton = document.getElementById('toggle-tabs');
            
            // Função para alternar entre abas
            function switchTab(tabId) {
                console.log('Alternando para aba:', tabId);
                
                // Desativar todos os botões e conteúdos
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    content.style.display = 'none';
                });
                
                // Ativar botão e conteúdo correspondente
                const activeButton = document.querySelector(`.bottom-tab-btn[data-tab="${tabId}"]`);
                const activeContent = document.getElementById(`${tabId}-content`);
                
                if (activeButton) {
                    activeButton.classList.add('active');
                }
                
                if (activeContent) {
                    activeContent.classList.add('active');
                    activeContent.style.display = 'block';
                }
            }
            
            // Adicionar evento de clique em cada botão
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Se já estiver na mesma aba e expandido, apenas minimiza
                    const isCurrentlyActive = this.classList.contains('active');
                    const isExpanded = !tabsContainer.classList.contains('minimized');
                    
                    if (isCurrentlyActive && isExpanded) {
                        // Minimiza
                        tabsContainer.classList.add('minimized');
                        return;
                    }
                    
                    // Se estiver minimizado, expande primeiro
                    if (tabsContainer.classList.contains('minimized')) {
                        tabsContainer.classList.remove('minimized');
                    }
                    
                    // Troca para a aba selecionada
                    switchTab(tabId);
                });
            });
            
            // Botão para alternar expansão/minimização
            toggleButton.addEventListener('click', function() {
                tabsContainer.classList.toggle('minimized');
            });
        });
    </script>
</body>
</html>